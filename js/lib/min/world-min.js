var Engine={};Engine.create=function(t,i){console.log(this);var e=void 0;this.camera="object"==typeof i.camera?i.camera:new Camera,this.bodies=[],this.fullscreen="boolean"==typeof i.fullscreen?i.fullscreen:!0,this.width=window.innerWidth,this.height=window.innerHeight,this.backgroundColor="string"==typeof i.backgroundColor?i.backgroundColor:"#1E3150",this.fps="number"==typeof i.fps?i.fps:60,this.fullscreen||(this.width="number"==typeof i.width?i.width:500,this.height="number"==typeof i.height?i.height:400),this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.ctx=this.canvas.getContext("2d"),t.appendChild(this.canvas),window.addEventListener("resize",this.resize.bind(this))},Engine.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},Engine.update=function(){for(var t=0;t<this.bodies.length;t++)void 0!==this.bodies[t].physics&&this.bodies[t].physics(this.gravity),this.bodies[t].update();void 0!==this.camera.update&&this.camera.update()},Engine.render=function(){Horizon.engine.clear(),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height),this.showBounds&&this.drawBounds();for(var t=0;t<this.bodies.length;t++)this.bodies[t].render(this.width,this.height,this.ctx,this.camera,this.sun.position);void 0!==this.sun.render&&this.sun.render(this.width,this.height,this.ctx,this.camera)},Engine.resize=function(){this.fullscreen&&(this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.render())},Engine.loop=function(){theloop=requestAnimFrame(this.loop.bind(this)),now=Date.now(),delta=now-then,delta>interval&&(then=now-delta%interval,this.update(),this.render())},Engine.run=function(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/this.fps)}}(),now=Date.now(),then=Date.now(),interval=1e3/this.fps,delta=0,this.loop()},Engine.stop=function(){window.cancelAnimationFrame(theloop),this.render(),this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(0,0,this.width,this.height)};