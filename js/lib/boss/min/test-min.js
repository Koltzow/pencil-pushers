define(function(){var t={};return t.create=function(){var t={type:"boss",label:"test",x:EXP.engine.width/2-32,y:EXP.engine.height/2-32,width:64,height:64,healthbar:EXP.ui.bossbar.create(),health:1e3,maxHealth:1e3,colliding:!1,collider:{left:0,top:0,width:64,height:64},tilesheet:new Image,currentAnimationFrame:0,animations:{active:{x:0,y:0,f:2,s:10}}};t.currentAnimation=t.animations.active,t.tilesheet.src="images/tilesheets/boss/test.png";for(var e=0;e<200;e++)!function(){var i=.5*e-1.5;setTimeout(function(){EXP.ammo.staple.create(t.type,{x:t.x+t.width/2,y:t.y+t.height/2},{x:Math.cos(i),y:Math.sin(i)})},100*e)}();return t.update=function(){this.currentAnimationFrame+=1/this.currentAnimation.s,this.currentAnimationFrame>=this.currentAnimation.f&&(this.currentAnimationFrame=0);for(var t=0;t<EXP.engine.bodies.length;t++)"ammo"===EXP.engine.bodies[t].type&&"player"===EXP.engine.bodies[t].firedBy&&EXP.physics.collision.test(this,EXP.engine.bodies[t])&&EXP.engine.bodies[t].onCollisionEnter(this);this.healthbar.target=this.health/this.maxHealth,this.healthbar.update()},t.render=function(){EXP.engine.ctx.fillStyle="rgba(255,0,0, 1)",EXP.engine.ctx.drawImage(this.tilesheet,(this.currentAnimation.x+Math.floor(this.currentAnimationFrame))*this.width,this.currentAnimation.y*this.height,this.width,this.height,Math.round(this.x-EXP.camera.x),Math.round(this.y-EXP.camera.y),this.width,this.height),EXP.debug.colliders&&(EXP.engine.ctx.fillStyle="rgba(0,255,0,0.5)",EXP.engine.ctx.fillRect(Math.round(this.x+this.collider.left-EXP.camera.x),Math.round(this.y+this.collider.top-EXP.camera.y),this.collider.width,this.collider.height)),this.healthbar.render()},EXP.engine.add(t),t},t});